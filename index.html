<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambarella Taiwan Visitor Guide</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@0.263.1"></script>

    <style>
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8fafc;
        }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .bg-grid-pattern {
            background-image: linear-gradient(to right, #e2e8f0 1px, transparent 1px),
                              linear-gradient(to bottom, #e2e8f0 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* Glassmorphism Classes */
        .glass-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Configuration: Images ---
        const IMAGES = {
            logo: "https://raw.githubusercontent.com/s9235036pu/ambavisitor/refs/heads/main/logo.png",           
            bg: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2600&auto=format&fit=crop",
            mapSite: "https://raw.githubusercontent.com/s9235036pu/ambavisitor/refs/heads/main/map_siteE.png",    
            mapOffice: "https://raw.githubusercontent.com/s9235036pu/ambavisitor/refs/heads/main/map_office.png",
            // New Images (Placeholders - Update these URLs when ready)
            entranceGate: "https://raw.githubusercontent.com/s9235036pu/ambavisitor/refs/heads/main/map_UnloadingArea.png", 
            entranceDoor: "https://raw.githubusercontent.com/s9235036pu/ambavisitor/refs/heads/main/map_1C1.png"
        };

        // --- Optimized Icon Wrapper ---
        const IconWrapper = ({ name, size = 24, className = "" }) => {
            const [svgHtml, setSvgHtml] = useState('');
            useEffect(() => {
                if (window.lucide && window.lucide.icons) {
                    const iconName = name.split('-')
                        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                        .join('');
                    const icon = window.lucide.icons[iconName];
                    if (icon) {
                        setSvgHtml(icon.toSvg({ width: size, height: size, class: className, "stroke-width": 2 }));
                    }
                }
            }, [name, size, className]);
            return <span className="inline-flex items-center justify-center" dangerouslySetInnerHTML={{ __html: svgHtml }} />;
        };

        // --- INLINE ICONS (Guaranteed to render immediately) ---
        const SvgMenu = ({ size=24, className="" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
        );

        const SvgX = ({ size=24, className="" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>
        );

        // --- Skeleton Loading Component ---
        const Skeleton = ({ className = "h-4 w-16" }) => (
            <div className={`animate-pulse bg-gray-200 rounded ${className}`}></div>
        );

        // --- Scroll To Top Component ---
        const ScrollToTop = () => {
            const [isVisible, setIsVisible] = useState(false);

            useEffect(() => {
                const toggleVisibility = () => {
                    if (window.pageYOffset > 300) setIsVisible(true);
                    else setIsVisible(false);
                };
                window.addEventListener('scroll', toggleVisibility);
                return () => window.removeEventListener('scroll', toggleVisibility);
            }, []);

            const scrollToTop = () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            return (
                <button 
                    onClick={scrollToTop}
                    className={`fixed bottom-6 right-6 z-[99] w-14 h-14 rounded-full bg-[#2C479C] text-white shadow-xl transition-all duration-300 hover:bg-[#1a365d] hover:-translate-y-1 flex flex-col items-center justify-center gap-0 ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`}
                >
                    <IconWrapper name="arrow-up" size={20} className="-mb-1" />
                    <span className="text-[10px] font-bold leading-none mt-0.5">TOP</span>
                </button>
            );
        };

        // --- Icons Mapping ---
        const Icons = {
            Plane: (p) => <IconWrapper name="plane" {...p} />,
            Train: (p) => <IconWrapper name="train" {...p} />,
            Car: (p) => <IconWrapper name="car" {...p} />,
            MapPin: (p) => <IconWrapper name="map-pin" {...p} />,
            Wifi: (p) => <IconWrapper name="wifi" {...p} />,
            Utensils: (p) => <IconWrapper name="utensils" {...p} />,
            Coffee: (p) => <IconWrapper name="coffee" {...p} />,
            Info: (p) => <IconWrapper name="info" {...p} />,
            Phone: (p) => <IconWrapper name="phone" {...p} />,
            Sun: (p) => <IconWrapper name="sun" {...p} />,
            Zap: (p) => <IconWrapper name="zap" {...p} />,
            // Use Inline SVGs for critical UI elements
            Menu: (p) => <SvgMenu {...p} />,
            X: (p) => <SvgX {...p} />,
            ChevronRight: (p) => <IconWrapper name="chevron-right" {...p} />,
            Copy: (p) => <IconWrapper name="copy" {...p} />,
            CheckCircle2: (p) => <IconWrapper name="check-circle-2" {...p} />,
            Building2: (p) => <IconWrapper name="building-2" {...p} />,
            Globe: (p) => <IconWrapper name="globe" {...p} />,
            Cloud: (p) => <IconWrapper name="cloud" {...p} />,
            CloudRain: (p) => <IconWrapper name="cloud-rain" {...p} />,
            Wind: (p) => <IconWrapper name="wind" {...p} />,
            Navigation: (p) => <IconWrapper name="navigation" {...p} />,
            DollarSign: (p) => <IconWrapper name="dollar-sign" {...p} />,
            Clock: (p) => <IconWrapper name="clock" {...p} />,
            UserCircle: (p) => <IconWrapper name="user-circle" {...p} />,
            BedDouble: (p) => <IconWrapper name="bed-double" {...p} />,
            ExternalLink: (p) => <IconWrapper name="external-link" {...p} />,
            Mail: (p) => <IconWrapper name="mail" {...p} />,
            ZoomIn: (p) => <IconWrapper name="zoom-in" {...p} />,
            Briefcase: (p) => <IconWrapper name="briefcase" {...p} />,
            Plug: (p) => <IconWrapper name="plug" {...p} />,
            Footprints: (p) => <IconWrapper name="footprints" {...p} />,
            Bus: (p) => <IconWrapper name="bus" {...p} />,
            ImageOff: (p) => <IconWrapper name="image-off" {...p} />
        };

        const App = () => {
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [copied, setCopied] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            
            // Weather State
            const [weather, setWeather] = useState({ 
                hsinchu: { temp: 24, code: 1 }, 
                taipei: { temp: 25, code: 1 } 
            });
            const [loadingWeather, setLoadingWeather] = useState(true);
            
            // Currency State
            const [rates, setRates] = useState(null);
            const [loadingRates, setLoadingRates] = useState(true);

            const [selectedLocation, setSelectedLocation] = useState(null);
            const [selectedImage, setSelectedImage] = useState(null);

            const BRAND_GRADIENT = "bg-gradient-to-r from-[#2C479C] to-[#008C99]";
            const TEXT_GRADIENT = "bg-clip-text text-transparent bg-gradient-to-r from-[#2C479C] to-[#008C99]";

            const navItems = [
                { id: 'arrival', label: 'Arrival 抵達', icon: 'plane' },
                { id: 'transport', label: 'Transport 交通', icon: 'train' },
                { id: 'maps', label: 'Maps 地圖', icon: 'map' },
                { id: 'office', label: 'Office 辦公室', icon: 'building-2' },
                { id: 'hotels', label: 'Hotels 住宿', icon: 'bed-double' },
                { id: 'lifestyle', label: 'Food 美食', icon: 'utensils' },
            ];

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, []);

            // Fetch Weather
            useEffect(() => {
                const fetchWeather = async () => {
                    try {
                        const response = await fetch("https://api.open-meteo.com/v1/forecast?latitude=24.78,25.03&longitude=121.00,121.56&current=temperature_2m,weather_code");
                        const data = await response.json();
                        if (data && data.length >= 2) {
                            setWeather({
                                hsinchu: { temp: data[0].current.temperature_2m, code: data[0].current.weather_code },
                                taipei: { temp: data[1].current.temperature_2m, code: data[1].current.weather_code }
                            });
                        }
                        setTimeout(() => setLoadingWeather(false), 500); 
                    } catch (error) { setLoadingWeather(false); }
                };
                fetchWeather();
            }, []);

            // Fetch Currency
            useEffect(() => {
                const fetchRates = async () => {
                    try {
                        const response = await fetch("https://api.exchangerate-api.com/v4/latest/USD");
                        const data = await response.json();
                        if (data && data.rates) {
                            setRates(data.rates);
                        }
                        setTimeout(() => setLoadingRates(false), 500);
                    } catch (error) {
                        setLoadingRates(false);
                    }
                };
                fetchRates();
            }, []);

            const toFahrenheit = (c) => Math.round((c * 9/5) + 32);

            const getWeatherIcon = (code) => {
                if (code <= 3) return <Icons.Sun className="text-white" size={24} />;
                if (code <= 67) return <Icons.CloudRain className="text-white" size={24} />;
                return <Icons.Cloud className="text-white" size={24} />;
            };

            const copyAddress = () => {
                const textToCopy = "新竹市東區力行一路1號（竹科矽導南門卸貨區）";
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                } catch (err) {
                    alert("Copy failed. Please copy manually.");
                }
                document.body.removeChild(textArea);
            };

            const scrollToSection = (id) => {
                const element = document.getElementById(id);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    setIsMenuOpen(false);
                }
            };

            const openGoogleMaps = () => {
                if (selectedLocation && selectedLocation.mapQuery) {
                    window.open(`https://www.google.com/maps/search/?api=1&query=${selectedLocation.mapQuery}`, '_blank');
                }
            };

            const openLocationModal = (key) => {
                if (locations[key]) {
                    setSelectedLocation(locations[key]);
                }
            };

            const getRate = (currency) => {
                if (!rates) return null;
                const rate = rates['TWD'] / rates[currency];
                return `≈ ${rate.toFixed(2)} TWD`;
            }

            // --- Data ---
            const shuttleText = `Free Shuttle service, please reserve with the Concierge 24 hours in advance.\nWeekday Morning Shuttle Bus Service To Hsinchu Science Park :\nMonday to Friday ( Public Holiday excluded )`;

            const locations = {
                office: {
                    name: "Ambarella Taiwan Office", zhName: "安霸台灣辦公室",
                    address: "No. 1, Lixing 1st Rd., East Dist., Hsinchu City", zhAddress: "新竹市東區力行一路1號（竹科矽導南門卸貨區）",
                    mapQuery: "Si-Soft+Research+Center",
                    estimates: [{ from: "TPE Airport", dist: "56 km", time: "50 min", fare: "~2,400 TWD" }, { from: "Hsinchu HSR", dist: "7 km", time: "15 min", fare: "~300 TWD" }]
                },
                hotel_hsinchu_royal: {
                    name: "Hotel Royal Hsinchu", zhName: "新竹老爺酒店",
                    address: "No.227 , Sec.1, Kuan-Fu Rd., Hsinchu",
                    tel: "+886-3-5631122", website: "http://www.hotelroyal.com.tw/hsinchu/", mapQuery: "Hotel+Royal+Hsinchu",
                    shuttleInfo: shuttleText,
                    estimates: [
                        { from: "Ambarella Office", dist: "1.5 km", time: "5 min", fare: "~150 TWD" },
                        { from: "Walking", dist: "1.5 km", time: "15-20 min", fare: "Free" }
                    ]
                },
                hotel_hsinchu_ambassador: {
                    name: "Ambassador Hotel Hsinchu", zhName: "新竹國賓大飯店",
                    address: "No.188, Sec. 2, Zhonghua Rd., Hsinchu",
                    tel: "+886-3-5151211", website: "https://www.ambassador-hotels.com/tc/hsinchu/", mapQuery: "Ambassador+Hotel+Hsinchu",
                    shuttleInfo: shuttleText,
                    estimates: [{ from: "Ambarella Office", dist: "7.0 km", time: "20 min", fare: "~300 TWD" }]
                },
                hotel_hsinchu_episode: {
                    name: "EPISODE Hsinchu", zhName: "伊普索凱悅尚選酒店",
                    address: "No.111, Sec. 2, Gongdao 5th Rd., Hsinchu",
                    tel: "+886-3-516-9308", website: "https://www.hotelepisode.com/zh/hsinchu", mapQuery: "EPISODE+Hsinchu",
                    shuttleInfo: shuttleText,
                    estimates: [{ from: "Ambarella Office", dist: "3.8 km", time: "10 min", fare: "~220 TWD" }]
                },
                hotel_taipei_amba_songshan: {
                    name: "amba Taipei Songshan", zhName: "台北松山意舍酒店",
                    address: "No.8, Sec. 7, Civic Boulevard, Taipei",
                    tel: "+886-2-2653-2828", website: "http://www.amba-hotels.com/tc/songshan/", mapQuery: "amba+Taipei+Songshan",
                    estimates: [{ from: "TPE Airport", dist: "48 km", time: "50 min", fare: "~1,600 TWD" }]
                },
                hotel_taipei_sheraton: {
                    name: "Sheraton Grand Taipei", zhName: "台北喜來登大飯店",
                    address: "No. 12, Sec. 1, Zhongxiao E. Rd., Taipei",
                    tel: "+886-2-2321-5858", website: "https://www.sheratongrandtaipei.com/", mapQuery: "Sheraton+Grand+Taipei+Hotel",
                    estimates: [{ from: "TPE Airport", dist: "45 km", time: "45 min", fare: "~1,450 TWD" }]
                },
                hotel_taoyuan_hyatt: {
                    name: "Hyatt Regency Taoyuan", zhName: "桃園國際機場凱悅酒店",
                    address: "No.1-1, Hangzhan South Rd., Dayuan Dist.",
                    tel: "+886-3-3980988", website: "https://www.hyatt.com", mapQuery: "Hyatt+Regency+Taoyuan+International+Airport",
                    estimates: [
                        { from: "TPE Airport Terminal", dist: "1 km", time: "5 min", fare: "Free Shuttle" },
                        { from: "Ambarella Office", dist: "55 km", time: "50 min", fare: "~1,700 TWD" }
                    ]
                },
                food1: {
                    name: "Din Tai Fung", zhName: "鼎泰豐 (新竹大遠百)", tag: "Traditional Chinese Cuisine",
                    address: "B1, No. 323, Xida Rd, North Dist", mapQuery: "Din+Tai+Fung+Hsinchu+Far+Eastern",
                    estimates: [{ from: "Ambarella Office", dist: "5.5 km", time: "20 min", fare: "~240 TWD" }]
                },
                food2: {
                    name: "Chenghuang Temple", zhName: "城隍廟夜市", tag: "Taiwan Night Market Culture",
                    address: "Zhongshan Rd, North Dist", mapQuery: "Hsinchu+Chenghuang+Temple",
                    estimates: [{ from: "Ambarella Office", dist: "7.2 km", time: "25 min", fare: "~315 TWD" }]
                },
                food3: {
                    name: "50 Lan Bubble Tea", zhName: "50嵐 (光復店)", tag: "Bubble Tea Culture",
                    address: "No. 162, Sec 1, Guangfu Rd", mapQuery: "50+Lan+Guangfu+Rd+Hsinchu",
                    estimates: [{ from: "Ambarella Office", dist: "1.0 km", time: "3 min", fare: "~120 TWD" }]
                }
            };

            return (
                <div className="min-h-screen bg-[#f8fafc] text-[#4A4A4A] overflow-x-hidden">
                    <ScrollToTop />
                    
                    {/* Navigation - Applied Glassmorphism */}
                    <nav className={`fixed top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'glass-nav py-3' : 'bg-transparent py-6'}`}>
                        <div className="max-w-7xl mx-auto px-6 flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => scrollToSection('home')}>
                                <div className="relative h-8 w-32 flex items-center">
                                    <img 
                                        src={IMAGES.logo} 
                                        alt="Ambarella" 
                                        className={`absolute top-0 left-0 h-full w-auto object-contain transition-opacity duration-300 ${scrolled ? 'opacity-100' : 'opacity-0'}`}
                                    />
                                    <img 
                                        src={IMAGES.logo} 
                                        alt="Ambarella White" 
                                        className={`absolute top-0 left-0 h-full w-auto object-contain brightness-0 invert transition-opacity duration-300 ${scrolled ? 'opacity-0' : 'opacity-100'}`}
                                        onError={(e) => {
                                            e.target.style.display = 'none';
                                            if (!e.target.parentNode.querySelector('.fallback-text')) {
                                                 const text = document.createElement('span');
                                                 text.className = `fallback-text text-xl font-bold tracking-tight ${scrolled ? 'text-[#2C479C]' : 'text-white'}`;
                                                 text.innerText = "Ambarella";
                                                 e.target.parentNode.appendChild(text);
                                            }
                                        }}
                                    />
                                </div>
                            </div>
                            
                            {/* Desktop Menu */}
                            <div className="hidden md:flex gap-8">
                                {navItems.map(item => (
                                    <button 
                                        key={item.id}
                                        onClick={() => scrollToSection(item.id)}
                                        className={`flex flex-col items-center gap-0.5 font-medium transition-colors text-xs uppercase tracking-wide group ${scrolled ? 'text-[#4A4A4A] hover:text-[#2C479C]' : 'text-white/90 hover:text-white'}`}
                                    >
                                        <span className="font-bold text-sm">{item.label.split(' ')[0]}</span>
                                        <span className="opacity-80 scale-90">{item.label.split(' ')[1]}</span>
                                    </button>
                                ))}
                            </div>

                            {/* Mobile Hamburger Button - FIXED & ENHANCED */}
                            <button 
                                className={`md:hidden relative z-50 p-2.5 rounded-full transition-all duration-300 ${scrolled ? 'bg-gray-100 text-[#4A4A4A]' : 'bg-white/20 text-white backdrop-blur-sm hover:bg-white/30'} shadow-sm`} 
                                onClick={() => setIsMenuOpen(!isMenuOpen)}
                                aria-label="Menu"
                            >
                                {isMenuOpen ? 
                                    <Icons.X size={26} className={scrolled ? "text-[#4A4A4A]" : "text-white"} /> : 
                                    <Icons.Menu size={26} className={scrolled ? "text-[#4A4A4A]" : "text-white"} />
                                }
                            </button>
                        </div>
                    </nav>

                    {/* Mobile Menu Overlay */}
                    {isMenuOpen && (
                        <div className="fixed inset-0 z-40 bg-white/95 backdrop-blur-xl pt-24 px-6 md:hidden animate-fade-in">
                            <div className="flex flex-col gap-6">
                                {navItems.map(item => (
                                    <button 
                                        key={item.id}
                                        onClick={() => {scrollToSection(item.id); setIsMenuOpen(false);}}
                                        className="text-2xl font-bold text-[#4A4A4A] text-left border-b border-gray-100 pb-4 flex items-center gap-4"
                                    >
                                        <div className="text-[#2C479C] opacity-50 scale-75"><Icons.ChevronRight size={24}/></div>
                                        {item.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Hero Section */}
                    <section id="home" className={`relative h-screen flex items-center justify-center overflow-hidden bg-cover bg-center`} style={{ backgroundImage: `url(${IMAGES.bg})` }}>
                        <div className={`absolute inset-0 opacity-80 ${BRAND_GRADIENT} mix-blend-multiply`}></div>
                        <div className="absolute inset-0 bg-black/20"></div>
                        
                        <div className="relative z-10 text-center px-6 mt-10 animate-fade-in">
                            <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/20 border border-white/30 text-white text-xs font-bold uppercase tracking-widest mb-6 backdrop-blur-md shadow-lg">
                                <Icons.Globe size={14} /> Ambarella Taiwan Ltd. | 安霸台灣
                            </div>
                            <h1 className="text-4xl md:text-7xl font-extrabold text-white mb-4 drop-shadow-xl tracking-tight">
                                Welcome to <br/> Ambarella Taiwan
                            </h1>
                            <h2 className="text-xl md:text-3xl font-light text-white/90 mb-10 tracking-wide drop-shadow-md">
                                歡迎來到安霸台灣
                            </h2>
                            <button onClick={() => scrollToSection('transport')} className="group bg-white text-[#2C479C] hover:bg-blue-50 px-8 py-4 rounded-full font-bold text-lg shadow-2xl flex items-center gap-2 mx-auto transition-all transform hover:scale-105">
                                <div><span className="block text-sm">Get Directions</span><span className="block text-xs font-normal text-gray-400">交通指引</span></div>
                                <Icons.ChevronRight size={20} className="group-hover:translate-x-1 transition-transform" />
                            </button>
                        </div>
                    </section>

                    {/* Quick Info Grid - 3 Columns */}
                    <div className="relative z-20 -mt-20 max-w-5xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-4">

                        {/* Currency */}
                        <div className="bg-white p-6 rounded-2xl shadow-xl border border-gray-100 flex flex-col items-center text-center hover:transform hover:-translate-y-2 transition-all duration-300">
                            <div className="bg-emerald-500 p-4 rounded-full mb-3 shadow-md"><Icons.DollarSign className="text-white" /></div>
                            <h3 className="font-bold text-[#4A4A4A] text-base mb-1">Currency</h3>
                            {loadingRates ? (
                                <div className="space-y-1 w-full flex flex-col items-center mt-2">
                                    <Skeleton className="w-24 h-3" />
                                    <Skeleton className="w-24 h-3" />
                                    <Skeleton className="w-24 h-3" />
                                    <Skeleton className="w-24 h-3" />
                                </div>
                            ) : (
                                <div className="text-[10px] text-gray-500 font-medium leading-tight">
                                    <p>1 USD {getRate('USD')}</p>
                                    <p>1 JPY {getRate('JPY')}</p>
                                    <p>1 KRW {getRate('KRW')}</p>
                                    <p>1 CNY {getRate('CNY')}</p>
                                </div>
                            )}
                        </div>

                        {/* Weather */}
                        <div className="bg-white p-6 rounded-2xl shadow-xl border border-gray-100 flex flex-col items-center text-center hover:transform hover:-translate-y-2 transition-all duration-300">
                            <div className="bg-orange-500 p-4 rounded-full mb-3 shadow-md">
                                {loadingWeather ? <div className="w-6 h-6 animate-pulse bg-white/50 rounded-full"></div> : getWeatherIcon(weather.hsinchu.code)}
                            </div>
                            <h3 className="font-bold text-[#4A4A4A] text-base mb-1">Weather</h3>
                            {loadingWeather ? (
                                <div className="space-y-2 w-full flex flex-col items-center mt-2">
                                    <Skeleton className="w-32 h-4" />
                                    <Skeleton className="w-32 h-4" />
                                </div>
                            ) : (
                                <div className="text-[10px] text-gray-500 font-medium">
                                    <p>Hsinchu: {Math.round(weather.hsinchu.temp)}°C / {toFahrenheit(weather.hsinchu.temp)}°F</p>
                                    <p>Taipei: {Math.round(weather.taipei.temp)}°C / {toFahrenheit(weather.taipei.temp)}°F</p>
                                </div>
                            )}
                        </div>
                                                
                        {/* Power */}
                        <div className="bg-white p-6 rounded-2xl shadow-xl border border-gray-100 flex flex-col items-center text-center hover:transform hover:-translate-y-2 transition-all duration-300">
                            <div className="bg-yellow-500 p-4 rounded-full mb-3 shadow-md"><Icons.Plug className="text-white" /></div>
                            <h3 className="font-bold text-[#4A4A4A] text-base mb-1">Power</h3>
                            <p className="text-xs text-gray-500 font-medium">110V Type A/B</p>
                            <p className="text-[10px] text-gray-400 mt-1">Please bring adapter<br/>請預先準備轉接頭</p>
                        </div>
                        
                    </div>

                    {/* Arrival */}
                    <section id="arrival" className="py-24 px-6 bg-grid-pattern">
                        <div className="max-w-4xl mx-auto">
                            <div className="flex items-center gap-4 mb-10">
                                <div className={`p-3 rounded-xl text-white shadow-lg ${BRAND_GRADIENT}`}><Icons.Briefcase size={24} /></div>
                                <div><h2 className="text-3xl font-bold text-[#4A4A4A]">Visitor Essentials</h2><p className="text-gray-500 text-sm">訪客須知</p></div>
                            </div>
                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="glass-card p-8 rounded-3xl shadow-lg hover:shadow-xl transition-shadow relative overflow-hidden group">
                                    <div className="absolute top-0 right-0 w-32 h-32 bg-blue-50/50 rounded-bl-full -mr-10 -mt-10 z-0 group-hover:scale-110 transition-transform"></div>
                                    <div className="relative z-10">
                                        <h3 className="text-xl font-bold mb-4 flex items-center gap-3 text-[#2C479C]">
                                            <div className="bg-blue-100 p-2 rounded-lg"><Icons.Wifi size={20} /></div> Telecommunications
                                        </h3>
                                        <p className="text-gray-600 mb-4 text-sm leading-relaxed">
                                            Purchase a <strong>SIM Card / eSIM</strong> at Taoyuan Airport.<br/>
                                            請在桃園機場購買 SIM 卡或 eSIM。
                                        </p>
                                        <div className="flex gap-2">
                                            <span className="px-3 py-1 bg-white/60 rounded-full text-xs text-gray-600 font-medium border border-gray-100">Chunghwa Telecom</span>
                                            <span className="px-3 py-1 bg-white/60 rounded-full text-xs text-gray-600 font-medium border border-gray-100">Taiwan Mobile</span>
                                        </div>
                                    </div>
                                </div>
                                <div className="glass-card p-8 rounded-3xl shadow-lg hover:shadow-xl transition-shadow relative overflow-hidden group">
                                    <div className="absolute top-0 right-0 w-32 h-32 bg-teal-50/50 rounded-bl-full -mr-10 -mt-10 z-0 group-hover:scale-110 transition-transform"></div>
                                    <div className="relative z-10">
                                        <h3 className="text-xl font-bold mb-4 flex items-center gap-3 text-[#008C99]">
                                            <div className="bg-teal-100 p-2 rounded-lg"><Icons.Car size={20} /></div> Transport Apps
                                        </h3>
                                        <p className="text-gray-600 mb-4 text-sm leading-relaxed">
                                            <strong>Uber</strong> works well in Taipei and Hsinchu.<br/>
                                            Uber 在台北與新竹皆可使用。
                                        </p>
                                        
                                        {/* Updated IC Card Link - Robust Implementation */}
                                        <div onClick={() => window.open("https://guidetotaiwan.com/en/article/easycard-ipass-ic-card", "_blank")} className="bg-white/60 p-3 rounded-xl border border-gray-200 flex items-center gap-3 cursor-pointer hover:bg-white transition-colors group">
                                            <div className="w-2 h-2 rounded-full bg-green-500 group-hover:scale-125 transition-transform"></div>
                                            <div>
                                                <p className="text-[#2C479C] text-sm font-bold underline decoration-dotted underline-offset-2">IC Card (EasyCard/iPass)</p>
                                                <p className="text-gray-400 text-xs">For MRT & Trains</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Transport - Title Updated */}
                    <section id="transport" className="py-24 bg-white relative overflow-hidden">
                        <div className="max-w-5xl mx-auto px-6 relative z-10">
                            <div className="text-center mb-16">
                                <h2 className={`text-3xl md:text-4xl font-bold mb-2 ${TEXT_GRADIENT}`}>Transportation Guide</h2>
                                <p className="text-gray-500">交通指引<br/>From Taiwan Taoyuan Intl. Airport (TPE)</p>
                            </div>
                            <div className="grid md:grid-cols-3 gap-6">
                                {/* Airport Taxi (First) */}
                                <div className="bg-white p-8 rounded-3xl border border-gray-200 shadow-md hover:border-[#008C99] hover:-translate-y-1 transition-all group">
                                    <div className="w-14 h-14 bg-teal-50 text-[#008C99] rounded-2xl flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#008C99] group-hover:text-white transition-colors">
                                        <Icons.Car size={28} />
                                    </div>
                                    <h3 className="text-xl font-bold mb-2 text-[#4A4A4A]">Airport Taxi</h3>
                                    <div className="text-xs font-bold text-[#008C99] mb-6 uppercase tracking-wider">Fastest and Convience</div>
                                    <ul className="space-y-4 text-sm text-gray-600">
                                        <li className="flex justify-between border-b border-gray-100 pb-2"><span>Duration</span><span className="font-bold">45 - 60 mins</span></li>
                                        <li className="flex justify-between border-b border-gray-100 pb-2"><span>Cost</span><span className="font-bold">~2,400 TWD</span></li>
                                    </ul>
                                    <p className="mt-4 text-xs text-gray-400 leading-relaxed bg-gray-50 p-3 rounded-lg">
                                        Please take "Metered Taxi" from the official queue.<br/>請於排班區搭乘跳錶計程車。
                                    </p>
                                </div>

                                {/* HSR (Second) */}
                                <div className="bg-white p-8 rounded-3xl border border-gray-200 shadow-md hover:border-[#008C99] hover:-translate-y-1 transition-all group">
                                    <div className="w-14 h-14 bg-blue-50 text-[#2C479C] rounded-2xl flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#2C479C] group-hover:text-white transition-colors">
                                        <Icons.Train size={28} />
                                    </div>
                                    <h3 className="text-xl font-bold mb-2 text-[#4A4A4A]">Public Transportation</h3>
                                    <div className="text-xs font-bold text-[#008C99] mb-6 uppercase tracking-wider">MRT+HSR+TAXI</div>
                                    <ul className="space-y-4 text-sm text-gray-600">
                                        <li className="flex items-center gap-3">
                                            <span className="w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs font-bold">1</span>
                                            <span>Airport MRT → Taoyuan HSR<br/><span className="text-xs text-gray-400">機場捷運 往 桃園高鐵站</span></span>
                                        </li>
                                        <li className="flex items-center gap-3">
                                            <span className="w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs font-bold">2</span>
                                            <span>HSR to Hsinchu Station<br/><span className="text-xs text-gray-400">搭乘高鐵 往 新竹站</span></span>
                                        </li>
                                        <li className="flex items-center gap-3">
                                            <span className="w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs font-bold">3</span>
                                            <span>Taxi to Office (~300 TWD)<br/><span className="text-xs text-gray-400">轉乘計程車 往 辦公室</span></span>
                                        </li>
                                    </ul>
                                </div>

                                {/* Driver Card (Third) */}
                                <div className={`p-8 rounded-3xl text-white shadow-2xl flex flex-col justify-between relative overflow-hidden ${BRAND_GRADIENT} hover:-translate-y-1 transition-transform`}>
                                    <div className="absolute -right-10 -top-10 w-48 h-48 bg-white/10 rounded-full blur-3xl"></div>
                                    <div>
                                        <h3 className="text-xl font-bold mb-6 flex items-center gap-3">
                                            <div className="bg-white/20 p-2 rounded-lg"><Icons.MapPin size={20} /></div> Driver Card
                                        </h3>
                                        <p className="text-white/80 text-xs mb-4 uppercase tracking-widest">Show to driver / 出示給司機</p>
                                        <div className="bg-white/95 backdrop-blur text-[#4A4A4A] p-5 rounded-xl shadow-lg mb-6">
                                            <p className="text-[10px] text-gray-400 uppercase font-bold mb-2">Destination</p>
                                            <p className="text-lg font-bold text-[#2C479C] leading-tight mb-1">Si-Soft Research Center <br/> South Gate Unloading Area</p>
                                            <p className="text-base font-bold text-gray-800 mb-3">竹科矽導 南門卸貨區</p>
                                            <div className="h-px bg-gray-200 my-2"></div>
                                            <p className="text-xs text-gray-500 font-bold">No. 1, Lixing 1st Rd., East Dist., Hsinchu City<br/>新竹市東區力行一路1號</p>
                                        </div>
                                    </div>
                                    <button onClick={copyAddress} className="w-full bg-white text-[#2C479C] hover:bg-blue-50 py-4 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-colors shadow-md">
                                        {copied ? <Icons.CheckCircle2 size={18} /> : <Icons.Copy size={18} />}
                                        {copied ? 'Copied 已複製!' : 'Copy Address 複製地址'}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Maps (Local Images) */}
                    <section id="maps" className="py-24 px-6 bg-gray-50">
                        <div className="max-w-5xl mx-auto">
                            <div className="flex items-center gap-4 mb-10">
                                <div className={`p-3 rounded-xl text-white shadow-lg ${BRAND_GRADIENT}`}><Icons.MapPin size={24} /></div>
                                <div><h2 className="text-3xl font-bold text-[#4A4A4A]">Office Maps</h2><p className="text-gray-500 text-sm">辦公室地圖指引</p></div>
                            </div>

                            {/* Driver Instructions Box */}
                            <div className="bg-blue-50 border-l-4 border-[#2C479C] p-6 rounded-r-xl mb-10 shadow-sm">
                                <div className="flex gap-4">
                                    <div className="text-[#2C479C]"><Icons.Info size={24}/></div>
                                    <div>
                                        <p className="font-bold text-[#2C479C] text-sm uppercase mb-1">Please provide the following address to the driver to reach the office:</p>
                                        <p className="font-bold text-gray-700 mb-3">請提供以下地址給司機，以便前往辦公室：</p>
                                        <div className="bg-white p-4 rounded-lg border border-blue-100">
                                            <p className="font-bold text-lg text-[#4A4A4A]">No. 1, Lixing 1st Rd., East Dist., Hsinchu City <br/>(Si-Soft Research Center South Gate Unloading Area)</p>
                                            <p className="font-bold text-lg text-[#4A4A4A] mt-2">新竹市東區力行一路1號（竹科矽導南門卸貨區）</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Standard Maps */}
                            <div className="grid md:grid-cols-2 gap-8 mb-10">
                                <div className="group flex flex-col rounded-3xl overflow-hidden border-4 border-white shadow-xl bg-white">
                                    <div className="p-4 border-b border-gray-100 font-bold text-[#2C479C]">Si-Soft Research Center 矽導研發中心</div>
                                    <div className="h-72 overflow-hidden bg-gray-100 relative cursor-pointer" onClick={() => setSelectedImage(IMAGES.mapSite)}>
                                        <img 
                                            src={IMAGES.mapSite} 
                                            alt="Si-Soft Site Plan" 
                                            className="w-full h-full object-contain group-hover:scale-105 transition-transform duration-500" 
                                            onError={(e) => { e.target.style.display='none'; e.target.parentNode.innerHTML += '<div class="absolute inset-0 flex flex-col items-center justify-center text-gray-400 p-4 text-center"><p class="font-bold">Image not found</p><p class="text-xs">Please add "map_site.jpg" to folder</p></div>'; }}
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-colors">
                                            <div className="bg-white p-3 rounded-full shadow-xl opacity-0 transform translate-y-4 group-hover:translate-y-0 group-hover:opacity-100 transition-all"><Icons.ZoomIn size={24} className="text-[#2C479C]"/></div>
                                        </div>
                                    </div>
                                </div>
                                <div className="group flex flex-col rounded-3xl overflow-hidden border-4 border-white shadow-xl bg-white">
                                    <div className="p-4 border-b border-gray-100 font-bold text-[#2C479C]">Ambarella Office Map</div>
                                    <div className="h-72 overflow-hidden bg-gray-100 relative cursor-pointer" onClick={() => setSelectedImage(IMAGES.mapOffice)}>
                                        <img 
                                            src={IMAGES.mapOffice} 
                                            alt="Floor Plan" 
                                            className="w-full h-full object-contain group-hover:scale-105 transition-transform duration-500"
                                            onError={(e) => { e.target.style.display='none'; e.target.parentNode.innerHTML += '<div class="absolute inset-0 flex flex-col items-center justify-center text-gray-400 p-4 text-center"><p class="font-bold">Image not found</p><p class="text-xs">Please add "map_office.jpg" to folder</p></div>'; }} 
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-colors">
                                            <div className="bg-white p-3 rounded-full shadow-xl opacity-0 transform translate-y-4 group-hover:translate-y-0 group-hover:opacity-100 transition-all"><Icons.ZoomIn size={24} className="text-[#2C479C]"/></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Additional Directions Text */}
                            <div className="bg-blue-50/80 border-l-4 border-[#2C479C] p-6 rounded-r-xl mb-10 shadow-sm flex gap-4">
                                <div className="text-[#2C479C] shrink-0 mt-1"><Icons.Footprints size={24}/></div>
                                <div>
                                    <h4 className="font-bold text-[#2C479C] mb-2 text-lg">Walking Directions</h4>
                                    <p className="text-[#4A4A4A] text-base font-bold leading-relaxed mb-2">
                                        After arriving at the Si-Soft South Gate unloading area, enter through the glass automatic doors. <br/>walk straight along the main hallway for about 50 meters, and you will see the Ambarella office on your right.
                                    </p>
                                    <p className="text-gray-500 text-sm">
                                        抵達矽導南門卸貨區後，從玻璃自動門進入，沿走道直行約50公尺，即可在右手邊看到安霸辦公室。
                                    </p>
                                </div>
                            </div>

                            {/* New Images Grid */}
                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="group flex flex-col rounded-3xl overflow-hidden border-4 border-white shadow-xl bg-white">
                                    <div className="p-4 border-b border-gray-100 font-bold text-[#2C479C]">South Gate Glass Door 南門卸貨區玻璃自動門</div>
                                    <div className="h-72 overflow-hidden bg-gray-100 relative cursor-pointer" onClick={() => setSelectedImage(IMAGES.entranceGate)}>
                                        <img 
                                            src={IMAGES.entranceGate} 
                                            alt="South Gate" 
                                            className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" 
                                            onError={(e) => { 
                                                e.target.style.display='none'; 
                                                // Create placeholder if image fails
                                                if(!e.target.parentNode.querySelector('.fallback')) {
                                                    const div = document.createElement('div');
                                                    div.className = 'absolute inset-0 flex flex-col items-center justify-center text-gray-400 p-4 text-center fallback bg-gray-200';
                                                    div.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg><p class="mt-2 font-bold">Image Pending</p><p class="text-xs">South Gate Glass Door</p>';
                                                    e.target.parentNode.appendChild(div);
                                                }
                                            }}
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-colors">
                                            <div className="bg-white p-3 rounded-full shadow-xl opacity-0 transform translate-y-4 group-hover:translate-y-0 group-hover:opacity-100 transition-all"><Icons.ZoomIn size={24} className="text-[#2C479C]"/></div>
                                        </div>
                                    </div>
                                </div>
                                <div className="group flex flex-col rounded-3xl overflow-hidden border-4 border-white shadow-xl bg-white">
                                    <div className="p-4 border-b border-gray-100 font-bold text-[#2C479C]">Ambarella Office Entrance 安霸辦公室大門</div>
                                    <div className="h-72 overflow-hidden bg-gray-100 relative cursor-pointer" onClick={() => setSelectedImage(IMAGES.entranceDoor)}>
                                        <img 
                                            src={IMAGES.entranceDoor} 
                                            alt="Office Door" 
                                            className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                                            onError={(e) => { 
                                                e.target.style.display='none'; 
                                                if(!e.target.parentNode.querySelector('.fallback')) {
                                                    const div = document.createElement('div');
                                                    div.className = 'absolute inset-0 flex flex-col items-center justify-center text-gray-400 p-4 text-center fallback bg-gray-200';
                                                    div.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg><p class="mt-2 font-bold">Image Pending</p><p class="text-xs">Ambarella Office Door</p>';
                                                    e.target.parentNode.appendChild(div);
                                                }
                                            }} 
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-colors">
                                            <div className="bg-white p-3 rounded-full shadow-xl opacity-0 transform translate-y-4 group-hover:translate-y-0 group-hover:opacity-100 transition-all"><Icons.ZoomIn size={24} className="text-[#2C479C]"/></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Office Info - Reordered: Location First, Updated Contact */}
                    <section id="office" className="py-24 px-6 bg-white">
                        <div className="max-w-4xl mx-auto">
                            <div className="flex items-center gap-4 mb-10">
                                <div className={`p-3 rounded-xl text-white shadow-lg ${BRAND_GRADIENT}`}><Icons.Building2 size={24} /></div>
                                <div><h2 className="text-3xl font-bold text-[#4A4A4A]">Office Logistics</h2><p className="text-gray-500 text-sm">辦公室資訊</p></div>
                            </div>
                            <div className="grid md:grid-cols-2 gap-6">
                                {/* 1. Location (Moved to top) */}
                                <div className="bg-white p-6 rounded-2xl shadow-md border border-gray-100 hover:shadow-xl transition-shadow cursor-pointer group flex flex-col" onClick={() => openLocationModal('office')}>
                                    <div className="bg-teal-100 w-12 h-12 rounded-full flex items-center justify-center text-teal-600 mb-4"><Icons.MapPin size={24} /></div>
                                    <h4 className="font-bold text-lg mb-2 text-[#4A4A4A] group-hover:text-[#008C99] transition-colors">Location <span className="text-xs text-gray-400 font-normal">位置</span></h4>
                                    <div className="mt-auto">
                                        <p className="text-sm text-gray-600 mb-1">No. 1, Lixing 1st Rd., East Dist., Hsinchu City</p>
                                        <p className="text-xs text-gray-500 mb-2">新竹市東區力行一路1號</p>
                                        <div className="inline-flex items-center gap-1 text-xs font-bold text-[#008C99] bg-teal-50 px-3 py-1 rounded-full">
                                            Open Google Maps <Icons.ChevronRight size={12} />
                                        </div>
                                    </div>
                                </div>

                                {/* 2. Contact Info (Updated) */}
                                <div className="bg-white p-6 rounded-2xl shadow-md border border-gray-100 hover:shadow-xl transition-shadow flex flex-col">
                                    <div className="bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center text-[#2C479C] mb-4"><Icons.Mail size={24} /></div>
                                    <h4 className="font-bold text-lg mb-2 text-[#4A4A4A]">Contact Info <span className="text-xs text-gray-400 font-normal">聯絡資訊</span></h4>
                                    <div className="text-sm text-gray-600 space-y-1 mt-auto">
                                        <p>Business hours: 09:00 - 18:00</p>
                                        <p>Tel: +886-3-666-8828 <strong>Ext. 696</strong></p>
                                        <p>Contact: <strong>Admin Service</strong></p>
                                        <p>Email: <a href="mailto:admin-tw@ambarella.com" className="text-[#008C99] font-bold hover:underline">admin-tw@ambarella.com</a></p>
                                    </div>
                                </div>

                                {/* 3. Office Wi-Fi */}
                                <div className="bg-white p-6 rounded-2xl shadow-md border border-gray-100 hover:shadow-xl transition-shadow flex flex-col">
                                    <div className="bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center text-purple-600 mb-4"><Icons.Wifi size={24} /></div>
                                    <h4 className="font-bold text-lg mb-2 text-[#4A4A4A]">Office Wi-Fi <span className="text-xs text-gray-400 font-normal">無線網路</span></h4>
                                    <div className="text-sm text-gray-600 space-y-1 mt-auto">
                                        <p>SSID: <strong>Amba_GUEST</strong></p>
                                        <p>PW: <strong>0910608899</strong></p>
                                        <p className="text-xs text-gray-400 italic mt-2">* Requires email registration upon login.<br/>* 登入時需輸入您的 Email 進行認證。</p>
                                    </div>
                                </div>
                                
                                {/* 4. Amenities */}
                                <div className="bg-white p-6 rounded-2xl shadow-md border border-gray-100 hover:shadow-xl transition-shadow flex flex-col">
                                    <div className="bg-orange-100 w-12 h-12 rounded-full flex items-center justify-center text-orange-600 mb-4"><Icons.Coffee size={24} /></div>
                                    <h4 className="font-bold text-lg mb-2 text-[#4A4A4A]">Amenities <span className="text-xs text-gray-400 font-normal">設施</span></h4>
                                    <div className="text-sm text-gray-600 mt-auto">
                                        <p>Coffee and tea available in pantry.</p>
                                        <p className="text-xs text-gray-500 mt-1">茶水間提供咖啡與茶水。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Hotels */}
                    <section id="hotels" className="py-24 px-6 bg-gray-50">
                        <div className="max-w-6xl mx-auto">
                            <div className="text-center mb-16">
                                <span className={`font-bold tracking-wider uppercase text-sm ${TEXT_GRADIENT}`}>Where to Stay</span>
                                <h2 className="text-4xl font-bold text-[#4A4A4A] mt-2">Recommended Hotels</h2>
                                <p className="text-gray-500 mt-2">住宿推薦 (Corporate Rate)</p>
                            </div>
                            <div className="space-y-12">
                                {/* Hsinchu - All cards force Taxi display (index 0) */}
                                <div>
                                    <h3 className="text-xl font-bold text-[#2C479C] border-b border-gray-200 pb-2 mb-6 flex items-center gap-2"><div className="bg-blue-100 p-1.5 rounded-lg"><Icons.MapPin size={18} /></div> Hsinchu <span className="text-sm font-normal text-gray-400">新竹 (近園區)</span></h3>
                                    <div className="grid md:grid-cols-3 gap-8">
                                        {['hotel_hsinchu_royal', 'hotel_hsinchu_ambassador', 'hotel_hsinchu_episode'].map((key) => {
                                            const hotel = locations[key];
                                            const est = hotel.estimates[0]; // Always show Taxi (Index 0) on card
                                            return (
                                                <div key={key} className="bg-white rounded-3xl overflow-hidden shadow-md hover:shadow-2xl hover:-translate-y-1 transition-all cursor-pointer group" onClick={() => openLocationModal(key)}>
                                                    <div className={`h-24 ${BRAND_GRADIENT} flex items-center justify-center relative`}>
                                                        <Icons.BedDouble size={40} className="text-white opacity-80" />
                                                    </div>
                                                    <div className="p-5">
                                                        <h3 className="text-lg font-bold text-[#2C479C] mb-1 truncate">{hotel.name}</h3>
                                                        <p className="text-sm text-gray-600 mb-3">{hotel.zhName}</p>
                                                        
                                                        <div className="bg-gray-50 p-3 rounded-xl mb-4 flex items-center gap-3">
                                                            <div className="bg-white p-2 rounded-full text-[#008C99] shadow-sm">
                                                                <Icons.Car size={16} />
                                                            </div>
                                                            <div>
                                                                <p className="text-[10px] text-gray-500 font-bold uppercase">
                                                                    Taxi from Office
                                                                </p>
                                                                <p className="text-sm font-bold text-[#4A4A4A]">
                                                                    {est.fare} ({est.time})
                                                                </p>
                                                            </div>
                                                        </div>

                                                        <div className="text-xs text-gray-400 flex items-center gap-1 group">
                                                            Details <Icons.ChevronRight size={14} className="group-hover:translate-x-1 transition-transform" />
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                                {/* Taipei - Updated Label Logic for Hyatt */}
                                <div>
                                    <h3 className="text-xl font-bold text-[#2C479C] border-b border-gray-200 pb-2 mb-6 flex items-center gap-2"><div className="bg-blue-100 p-1.5 rounded-lg"><Icons.Train size={18} /></div> Taipei & Taoyuan <span className="text-sm font-normal text-gray-400">台北 & 桃園</span></h3>
                                    <div className="grid md:grid-cols-3 gap-8">
                                        {['hotel_taipei_amba_songshan', 'hotel_taipei_sheraton', 'hotel_taoyuan_hyatt'].map((key) => {
                                            const hotel = locations[key];
                                            return (
                                                <div key={key} className="bg-white rounded-3xl overflow-hidden shadow-md hover:shadow-2xl hover:-translate-y-1 transition-all cursor-pointer group" onClick={() => openLocationModal(key)}>
                                                    <div className={`h-24 ${BRAND_GRADIENT} flex items-center justify-center relative`}>
                                                        <Icons.BedDouble size={40} className="text-white opacity-80" />
                                                    </div>
                                                    <div className="p-5">
                                                        <h3 className="text-lg font-bold text-[#2C479C] mb-1 truncate">{hotel.name}</h3>
                                                        <p className="text-sm text-gray-600 mb-3">{hotel.zhName}</p>
                                                        
                                                        <div className="bg-gray-50 p-3 rounded-xl mb-4 flex items-center gap-3">
                                                            <div className="bg-white p-2 rounded-full text-[#008C99] shadow-sm"><Icons.Car size={16} /></div>
                                                            <div>
                                                                <p className="text-[10px] text-gray-500 font-bold uppercase">
                                                                    {key === 'hotel_taoyuan_hyatt' ? 'from Airport' : 'Taxi from Airport'}
                                                                </p>
                                                                <p className="text-sm font-bold text-[#4A4A4A]">{hotel.estimates[0].fare} ({hotel.estimates[0].time})</p>
                                                            </div>
                                                        </div>

                                                        <div className="text-xs text-gray-400 flex items-center gap-1 group">
                                                            Details <Icons.ChevronRight size={14} className="group-hover:translate-x-1 transition-transform" />
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Food */}
                    <section id="lifestyle" className="py-24 px-6 bg-gray-50">
                        <div className="max-w-6xl mx-auto">
                            <div className="text-center mb-16">
                                <span className={`font-bold tracking-wider uppercase text-sm ${TEXT_GRADIENT}`}>After Work</span>
                                <h2 className="text-4xl font-bold text-[#4A4A4A] mt-2">Eat Like a Local</h2>
                                <p className="text-gray-500 mt-2">在地美食推薦</p>
                            </div>
                            <div className="grid md:grid-cols-3 gap-8">
                                {['food1', 'food2', 'food3'].map((key) => {
                                    const item = locations[key];
                                    return (
                                        <div key={key} className="bg-white border border-gray-100 rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all cursor-pointer p-8 flex flex-col items-center text-center group relative pt-12" onClick={() => openLocationModal(key)}>
                                            <div className="absolute top-4 bg-orange-100 text-orange-600 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide">{item.tag}</div>
                                            <div className="bg-orange-50 p-6 rounded-full mb-6 group-hover:scale-110 transition-transform duration-300">
                                                <Icons.Utensils size={40} className="text-orange-500" />
                                            </div>
                                            <h3 className="text-xl font-bold text-[#2C479C] mb-2">{item.name.split('(')[0]}</h3>
                                            <p className="text-sm text-gray-500 mb-6">{item.zhName}</p>
                                            <div className="mt-auto px-4 py-2 rounded-full bg-gray-50 text-xs font-bold text-[#008C99] flex items-center gap-1 group-hover:bg-[#008C99] group-hover:text-white transition-colors">
                                                Check Taxi Fare <Icons.ChevronRight size={12} />
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="bg-[#4A4A4A] text-gray-300 py-12 px-6 border-t border-gray-700 font-light">
                        <div className="max-w-6xl mx-auto grid md:grid-cols-3 gap-8 text-sm">
                            {/* Brand */}
                            <div className="text-center md:text-left space-y-4">
                                <div className="flex items-center justify-center md:justify-start gap-2 text-white font-bold text-xl">
                                    <img src={IMAGES.logo} alt="Ambarella" className="h-6 w-auto brightness-0 invert" onError={(e) => e.target.style.display='none'} />
                                    Ambarella
                                </div>
                                <p className="text-xs text-gray-400">AI Vision Processors for Edge Applications.</p>
                            </div>

                            {/* Contact */}
                            <div className="text-center md:text-left space-y-2">
                                <h5 className="text-white font-bold mb-2">Contact Us</h5>
                                <p>+886-3-666-8828</p>
                                <p>No. 1, Lixing 1st Rd., East Dist.,Hsinchu City, Taiwan 300</p>                                
                            </div>

                            {/* Copyright */}
                            <div className="text-center md:text-right flex flex-col justify-end">
                                <p>© {new Date().getFullYear()} Ambarella Taiwan Ltd.</p>
                                <p className="text-xs text-gray-500 mt-1">All Rights Reserved.<br/>Internal Visitor Guide.</p>
                            </div>
                        </div>
                    </footer>

                    {/* Modal - Updated with Shuttle Info */}
                    {selectedLocation && (
                        <div className="fixed inset-0 z-[60] flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() => setSelectedLocation(null)}></div>
                            <div className="relative bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[85vh]">
                                <div className="p-6 border-b border-gray-100 flex justify-between items-start bg-gray-50">
                                    <div>
                                        <h3 className="text-2xl font-bold text-[#2C479C]">{selectedLocation.name}</h3>
                                        <p className="text-base text-gray-700 font-bold mt-1">{selectedLocation.zhName}</p>
                                        <p className="text-sm text-gray-500 mt-3 flex items-start gap-2"><Icons.MapPin size={16} className="mt-0.5 shrink-0 text-[#008C99]" /> {selectedLocation.address}</p>
                                        <p className="text-xs text-gray-400 ml-6 mt-1">{selectedLocation.zhAddress}</p>
                                    </div>
                                    <button onClick={() => setSelectedLocation(null)} className="p-2 bg-white rounded-full hover:bg-gray-200 shadow-sm"><Icons.X size={20} className="text-gray-600" /></button>
                                </div>
                                <div className="p-0 h-64 bg-gray-200 relative">
                                    <div className="absolute inset-0 flex items-center justify-center text-gray-400 text-sm">
                                        <iframe title="map" width="100%" height="100%" style={{border:0}} loading="lazy" src={`https://maps.google.com/maps?q=${selectedLocation.mapQuery}&t=&z=15&ie=UTF8&iwloc=&output=embed`}></iframe>
                                    </div>
                                </div>
                                <div className="p-6 overflow-y-auto bg-white">
                                    
                                    {/* Shuttle Info Block for Hsinchu Hotels */}
                                    {selectedLocation.shuttleInfo && (
                                        <div className="bg-blue-50 border border-blue-100 p-4 rounded-xl mb-6">
                                            <div className="flex items-start gap-3">
                                                <div className="bg-white p-2 rounded-full text-[#2C479C] shadow-sm"><Icons.Bus size={20}/></div>
                                                <div>
                                                    <h4 className="font-bold text-[#2C479C] mb-2">Shuttle Service</h4>
                                                    <p className="text-sm text-gray-700 whitespace-pre-line leading-relaxed">{selectedLocation.shuttleInfo}</p>
                                                </div>
                                            </div>
                                        </div>
                                    )}

                                    {selectedLocation.tel && (
                                        <div className="flex gap-3 mb-6">
                                            <a href={`tel:${selectedLocation.tel}`} className="flex-1 bg-gray-50 border border-gray-100 p-4 rounded-2xl flex items-center gap-3 hover:border-[#2C479C] hover:bg-blue-50 transition-all group">
                                                <div className="bg-white p-2 rounded-full text-[#2C479C] shadow-sm group-hover:bg-[#2C479C] group-hover:text-white"><Icons.Phone size={20}/></div>
                                                <div className="text-sm"><p className="text-gray-400 text-xs font-bold uppercase">Call</p><p className="font-bold text-[#4A4A4A]">{selectedLocation.tel}</p></div>
                                            </a>
                                            {selectedLocation.website && (
                                                <a href={selectedLocation.website} target="_blank" className="flex-1 bg-gray-50 border border-gray-100 p-4 rounded-2xl flex items-center gap-3 hover:border-[#2C479C] hover:bg-blue-50 transition-all group">
                                                    <div className="bg-white p-2 rounded-full text-[#2C479C] shadow-sm group-hover:bg-[#2C479C] group-hover:text-white"><Icons.ExternalLink size={20}/></div>
                                                    <div className="text-sm"><p className="text-gray-400 text-xs font-bold uppercase">Website</p><p className="font-bold text-[#4A4A4A]">Visit Site</p></div>
                                                </a>
                                            )}
                                        </div>
                                    )}
                                    <h4 className="font-bold text-[#4A4A4A] mb-4 flex items-center gap-2 border-t border-gray-100 pt-6"><Icons.Car size={20} className="text-[#2C479C]" /> Taxi Estimate</h4>
                                    <div className="space-y-3">
                                        {selectedLocation.estimates.map((est, i) => (
                                            <div key={i} className="bg-gray-50 p-4 rounded-xl border border-gray-100 text-sm flex justify-between items-center">
                                                <div>
                                                    <p className="text-[10px] text-gray-400 font-bold uppercase tracking-wider">FROM {est.from}</p>
                                                    <div className="flex gap-4 mt-1.5 text-gray-700 font-medium"><span className="flex items-center gap-1.5"><Icons.Navigation size={14} className="text-blue-500"/> {est.dist}</span><span className="flex items-center gap-1.5"><Icons.Clock size={14} className="text-orange-500"/> {est.time}</span></div>
                                                </div>
                                                <div className="text-white font-bold bg-[#008C99] px-4 py-2 rounded-lg shadow-sm">{est.fare}</div>
                                            </div>
                                        ))}
                                    </div>
                                    <button onClick={openGoogleMaps} className={`w-full mt-8 text-white py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all ${BRAND_GRADIENT}`}>Open in Google Maps App</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Image Modal */}
                    {selectedImage && (
                        <div className="fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-fade-in" onClick={() => setSelectedImage(null)}>
                            <div className="relative w-full max-w-5xl max-h-[90vh]" onClick={e => e.stopPropagation()}>
                                <button onClick={() => setSelectedImage(null)} className="absolute -top-12 right-0 text-white p-2 hover:bg-white/20 rounded-full transition-colors"><Icons.X size={32} /></button>
                                <img src={selectedImage} alt="Zoom" className="w-full h-full object-contain rounded-lg shadow-2xl" />
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
